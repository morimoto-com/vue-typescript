Vue 3 でコンポーネント間の**データやり取り**を行う手段は、`defineProps` や `defineEmits` だけでなく、他にもさまざまな方法があります。それぞれの特徴と使いどころを比較した**完全一覧表**を以下にまとめました。

---

## ✅ Vue におけるデータ受け渡し手段 一覧

| 方法                          | データの流れ            | 主な用途例                                           | 備考                                             |
| ----------------------------- | ----------------------- | ---------------------------------------------------- | ------------------------------------------------ |
| `defineProps`                 | 親 → 子                 | 表示データや初期値の受け渡し                         | `readonly` なので子からは直接変更不可            |
| `defineEmits`                 | 子 → 親                 | ボタンクリック、変更通知など                         | `emit('eventName')` で送信                       |
| `defineModel`                 | 親 ⇄ 子（双方向）       | `v-model` を使ったフォーム値の同期                   | Vue 3.4+、内部的には props + emits               |
| `slot`                        | 親 → 子                 | レイアウトの再利用、テンプレート挿入                 | スコープ付きスロットでデータ渡しも可能           |
| `provide` / `inject`          | 上位 → 下位             | グローバル設定やテーマ、親孫間の非props通信          | 階層を飛び越えて渡せる（多段で有効）             |
| `$attrs`                      | 親 → 子（属性伝播）     | カスタムコンポーネントのラップ時の属性引き継ぎ       | 未定義の props や attributes が入る              |
| `v-model:custom`              | 親 ⇄ 子（双方向）       | 複数の `v-model` バインディングに対応                | `defineModel('custom')` と組み合わせる           |
| `ref`（テンプレート）         | 親 → 子                 | 子コンポーネントのメソッドや値へのアクセス           | `$refs` は非推奨、Composition APIの `ref()` 使用 |
| グローバルストア（Pinia 等）  | どこでも自由            | 状態管理、非親子間通信（兄弟・離れたコンポーネント） | アプリ全体で共有。Vuex の後継が Pinia            |
| イベントバス（非推奨）        | 任意 → 任意             | コンポーネント間のイベント送受信（古い手法）         | Vue3では原則非推奨。Pinia や emit に置換推奨     |
| URL クエリ / ルートパラメータ | 親 → 子（ルーター経由） | `id` や `lang` などの画面遷移時の値渡し              | `useRoute()` で取得                              |
| カスタムディレクティブ        | 親 → 子                 | DOMに値を渡して制御（例: `v-focus`）                 | Vueの低レイヤー機能                              |

---

## 🧠 用途別おすすめ

| 用途                               | おすすめの手段                        |
| ---------------------------------- | ------------------------------------- |
| 親 → 子に値を渡したい              | `defineProps`, `slot`                 |
| 子 → 親に通知したい                | `defineEmits`, `defineModel`          |
| 親 ⇄ 子で同期したい                | `defineModel`（または props + emits） |
| 孫コンポーネントなどに値を渡したい | `provide` / `inject`                  |
| 兄弟・離れた場所の通信             | Pinia や外部ストア                    |
| レイアウトや中身を差し替えたい     | `slot`、スコープ付きスロット          |
| 子コンポーネントを直接操作したい   | `ref`（テンプレート経由）             |
| URLを通じた状態遷移                | `useRoute()` でクエリ・パラメータ取得 |

---

## 🔍 代表的なデータフロー図

```
[Parent]
   ↓ defineProps
[Child]
   ↑ defineEmits / defineModel
[Grandchild]
   ↑ inject ← provide ↑
[Global]
   ↔ Pinia Store
```

---

## 📝 まとめ

Vue のデータやり取りは、目的や階層構造、再利用性に応じて適切な手段を選ぶことが重要です。

- **明確な親子関係がある場合は props/emits が基本**
- **多階層や兄弟間では Pinia や provide/inject を活用**
- **テンプレート渡しは slot、URL経由の値渡しは useRoute**

---

必要であれば各パターンのコード例も提供できますので、お気軽にどうぞ！
